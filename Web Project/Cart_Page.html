<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset = "utf-8">
    <title>Cart page</title>
    <link rel="stylesheet" href="Cart_Page.css">
    <link rel="stylesheet" href="Header_and_footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body onload="onload()">

<header>
  <nav class="global">
    <img src="images/Logo.png" alt="website logo" id="logo">
      <ul>
        <li><a href="index.html" accesskey="h"> Home </a></li>
        <li><a class="active" href="Customer_Dashboard.html" accesskey="c"> Customer's dashboard </a></li>
        <li><a href="Owner_Dashboard.html" accesskey="o"> Owner dashboard </a></li>
      </ul>
  </nav>

  <ul class="breadcrumbs">
    <li><a href="index.html"> Home </a></li>
    <li><a href="Customer_Dashboard.html"> Customer's dashboard </a></li>
    <li><a href="Restaurant.html"> Restaurant </a></li>
    <li class="current"> Cart </li>
  </ul>
  <button onclick="darkmode()" id="icon" type="button" class="Switch-theme">Switch Theme</button>
</header>

<main>
  <div class="intro">
      <h1 id="My-cart">My Cart</h1> 
      <button class="clear" type="button">Clear Cart</button>
  </div>

  <!-- Items -->
  <div class="Order"> 
      <div class="flex-container">
          <div class="item">
              <div class="meal_info">
                  <img src="images/Kunafa.jpg" class="meal" alt="Kunafa">
                  <h2>Kunafa</h2> 
              </div>
              <div class="quantity">
                  <button style="color: white;" class="decreaseBtn">&#10134;&#xfe0e;</button>
                  <span class="counter">1</span>
                  <button style="color: white;" class="increaseBtn">&#10133;&#xfe0e;</button>
              </div>
              <div>
                  <button class="x" type="button">&#10006;</button>
              </div>
              <span class="sr">49SR</span>
          </div>

          <!-- Second item -->
          <div class="item">
              <div class="meal_info">
                  <img src="images/Mafrookh.jpg" class="meal" alt="Mafrookh">
                  <h2 style="display: inline;">Mafrookh</h2> 
              </div>
              <div class="quantity">
                  <button style="color: white;" class="decreaseBtn">&#10134;&#xfe0e;</button>
                  <span class="counter">1</span>
                  <button style="color: white;" class="increaseBtn">&#10133;&#xfe0e;</button>
              </div>
              <div>
                  <button class="x" type="button">&#10006;</button>
              </div>
              <span class="sr">49SR</span>
          </div>

          <!-- Third item -->
          <div class="item">
              <div class="meal_info">
                  <img src="images/Dolmah.jpg" class="meal" alt="Dolmah">
                  <h2 style="display: inline;">Dolmah</h2> 
              </div>
              <div class="quantity">
                  <button style="color: white;" class="decreaseBtn">&#10134;&#xfe0e;</button>
                  <span class="counter">1</span>
                  <button style="color: white;" class="increaseBtn">&#10133;&#xfe0e;</button>
              </div>
              <div>
                  <button class="x" type="button">&#10006;</button>
              </div>
              <span class="sr">52SR</span>
          </div>
      </div>
  </div>

  <div class="total">
      <p id="Total">
          <strong>Total</strong>
          <br>
          0SR <!-- Initial total -->
      </p>
  </div>

  <div id="line"> 
      <hr>
      <a href="Evaluation.html" class="checkout">Checkout</a>
  </div>
</main>

<footer>
    <p id="Contact"> Contact with us</p>
    <p id="Number"> +993 05533033560 </p>
    <div class="socials">        
        <a href="#"><i class="fa fa-twitter"></i></a> 
        <a href="#"><i class="fa fa-facebook"></i></a> 
        <a href="#"><i class="fa fa-instagram"></i></a>
    </div>
    <p class="Copyright"> Copyright &copy; 2024 2Eat. All Rights Reserved</p>
</footer>

<script src="script.js"></script>
<script>
  function calculateTotal() {
      let total = 0;
      const items = document.querySelectorAll('.item');
      items.forEach(item => {
          const quantity = parseInt(item.querySelector('.counter').textContent);
          const price = parseInt(item.querySelector('.sr').textContent);
          total += quantity * price;
      });
      return total;
  }

  const xButtons = document.querySelectorAll('.x');
  xButtons.forEach(button => {
      button.addEventListener('click', () => {
          button.parentElement.parentElement.remove(); 
          updateTotal(); 
      });
  });

 
  const clearButton = document.querySelector('.clear');
  clearButton.addEventListener('click', () => {
      const items = document.querySelectorAll('.item');
      items.forEach(item => {
          item.remove(); 
      });
      updateTotal(); 
  });

  
  const quantityButtons = document.querySelectorAll('.quantity button');
  quantityButtons.forEach(btn => {
      btn.addEventListener('click', () => {
          const counter = btn.parentElement.querySelector('.counter');
          let value = parseInt(counter.textContent);
          if (btn.classList.contains('increaseBtn')) {
              value++;
          } else {
              if (value > 1) {
                  value--;
              }
          }
          counter.textContent = value;
          updateTotal(); 
      });
  });

  
  function updateTotal() {
      const totalElement = document.getElementById('Total');
      const total = calculateTotal();
      totalElement.innerHTML = `<strong>Total</strong><br>${total}SR`;
  }

  
  const checkoutButton = document.querySelector('.checkout');
  checkoutButton.addEventListener('click', () => {
      const total = calculateTotal();
      alert(`Thank you for your order! Your total is: ${total}SR`); 
  });

  
  updateTotal();
</script>

</body>

</html>